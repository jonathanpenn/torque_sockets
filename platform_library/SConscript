Import('env')

files = Glob('*.cpp')
env['CPPPATH'] = ['#/platform_library/', '#/lib/libtommath', '#/lib/libtomcrypt/src/headers', '.']
env['LIBPATH'] = ['#/lib/libtommath', '#/lib/libtomcrypt']
env['LIBS'] = ['libtommath', 'libtomcrypt']

if env['PLATFORM'] == 'darwin':
	env.Append(LINKFLAGS='-framework CoreServices')

ret = env.Build('StaticLibrary', 'tnp', files)
Return('ret')
